import{_ as _export_sfc,a3 as isInteger,j as ref,o as openBlock,c as createElementBlock,a as createBaseVNode,t as toDisplayString,e as createCommentVNode,Z as mergeModels,a4 as isNumber,$ as useModel,r as resolveComponent,d as createBlock,w as withCtx,k as createVNode,F as Fragment,z as renderList,f as createTextVNode}from"./index-CfqXUxnT.js";import{k as validateCurrencyItems,f as isCurrencyValid}from"./entities-PiLjlfow.js";const _hoisted_1={class:"container"},_hoisted_2={key:0,class:"calc-text"},_hoisted_3={class:"keyboard"},_sfc_main$2={__name:"Calculator",props:{value:{type:Number,default:0},displayShow:{type:Boolean,default:!0}},emits:{onResult:isInteger},setup(__props,{expose:__expose,emit:__emit}){const props=__props,emit=__emit,calcValue=ref(props.value.toString()),isCalcMode=ref(!1),number=o=>{calcValue.value==="NaN"||calcValue.value==="0"?calcValue.value="":calcValue.value==="-0"&&(calcValue.value=removeLastSymbol(calcValue.value)),calcValue.value+=o.trim()},operation=value=>{const lastValue=getLastValue(calcValue.value);if(!isNaN(lastValue)&&value==="=")calcValue.value=eval(calcValue.value).toString();else if(value==="AC")calcValue.value="0";else if(value==="DEL")calcValue.value=removeLastSymbol(calcValue.value),calcValue.value.length===0&&(calcValue.value="0");else if(value==="+-"){const o="-"+calcValue.value,e=removeFirstSymbol(calcValue.value);calcValue.value=containsMinus(calcValue.value)?e:o}else["+","-","*","/"].includes(lastValue)&&(calcValue.value=removeLastSymbol(calcValue.value),calcValue.value+=value),isNaN(lastValue)||(calcValue.value+=value)},pushEqual=()=>{isCalcMode.value=!1,operation("=")},done=()=>{emit("onResult",parseFloat(calcValue.value))},enabled=()=>{isCalcMode.value=!0},getLastValue=o=>o.substring(o.length,o.length-1),removeLastSymbol=o=>o.substring(0,o.length-1),removeFirstSymbol=o=>o.substring(1),containsMinus=o=>o.startsWith("-");return __expose({calcValue}),(o,e)=>(openBlock(),createElementBlock("div",_hoisted_1,[__props.displayShow?(openBlock(),createElementBlock("div",_hoisted_2,[createBaseVNode("p",{onClick:e[0]||(e[0]=t=>isCalcMode.value=!isCalcMode.value)},toDisplayString(calcValue.value),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3,[createBaseVNode("button",{type:"button",onClick:e[1]||(e[1]=t=>operation("AC")),class:"key-others"},"AC"),createBaseVNode("button",{type:"button",onClick:e[2]||(e[2]=t=>operation("DEL")),class:"key-others"},"DEL"),createBaseVNode("button",{type:"button",onClick:e[3]||(e[3]=t=>operation("+-")),class:"key-others"},"+/-"),createBaseVNode("button",{type:"button",onClick:e[4]||(e[4]=t=>[operation("/"),enabled()]),class:"key-operate"},"/"),createBaseVNode("button",{type:"button",onClick:e[5]||(e[5]=t=>number("7")),class:""},"7"),createBaseVNode("button",{type:"button",onClick:e[6]||(e[6]=t=>number("8")),class:""},"8"),createBaseVNode("button",{type:"button",onClick:e[7]||(e[7]=t=>number("9")),class:""},"9"),createBaseVNode("button",{type:"button",onClick:e[8]||(e[8]=t=>[operation("*"),enabled()]),class:"key-operate"},"*"),createBaseVNode("button",{type:"button",onClick:e[9]||(e[9]=t=>number("4")),class:""},"4"),createBaseVNode("button",{type:"button",onClick:e[10]||(e[10]=t=>number("5")),class:""},"5"),createBaseVNode("button",{type:"button",onClick:e[11]||(e[11]=t=>number("6")),class:""},"6"),createBaseVNode("button",{type:"button",onClick:e[12]||(e[12]=t=>[operation("-"),enabled()]),class:"key-operate"},"-"),createBaseVNode("button",{type:"button",onClick:e[13]||(e[13]=t=>number("1")),class:""},"1"),createBaseVNode("button",{type:"button",onClick:e[14]||(e[14]=t=>number("2")),class:""},"2"),createBaseVNode("button",{type:"button",onClick:e[15]||(e[15]=t=>number("3")),class:""},"3"),createBaseVNode("button",{type:"button",onClick:e[16]||(e[16]=t=>[operation("+"),enabled()]),class:"key-operate"},"+"),createBaseVNode("button",{type:"button",onClick:e[17]||(e[17]=t=>number("0")),class:"key-zero"},"0"),createBaseVNode("button",{type:"button",onClick:e[18]||(e[18]=t=>number(".")),class:""},"."),isCalcMode.value?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:pushEqual,class:"key-operate"},"=")):createCommentVNode("",!0),isCalcMode.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:done,class:"key-done"},"ok"))])]))}},Calculator=_export_sfc(_sfc_main$2,[["__scopeId","data-v-e608e15e"]]),_sfc_main$1={__name:"BottomCalculator",props:mergeModels({startSum:{type:[String,Number],default:0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:mergeModels({done:isNumber},["update:modelValue"]),setup(o,{emit:e}){const t=e,n=useModel(o,"modelValue"),c=u=>{n.value=!1,t("done",u)};return(u,l)=>{const r=resolveComponent("v-bottom-sheet");return openBlock(),createBlock(r,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=a=>n.value=a),class:"s-bottom-sheet","content-class":"s-content"},{default:withCtx(()=>[createVNode(Calculator,{value:o.startSum,onOnResult:l[0]||(l[0]=a=>c(a))},null,8,["value"])]),_:1},8,["modelValue"])}}},_sfc_main={__name:"CurrenciesList",props:{currencies:{type:Array,required:!0,validator:validateCurrencyItems}},emits:{selected:isCurrencyValid},setup(o,{emit:e}){const t=e;return(n,c)=>{const u=resolveComponent("v-list-item-title"),l=resolveComponent("v-list-item-subtitle"),r=resolveComponent("v-list-item"),a=resolveComponent("v-list");return openBlock(),createBlock(a,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.currencies,s=>(openBlock(),createBlock(r,{key:s.id,onClick:i=>t("selected",s)},{default:withCtx(()=>[createVNode(u,null,{default:withCtx(()=>[createTextVNode(toDisplayString(s.name),1)]),_:2},1024),createVNode(l,null,{default:withCtx(()=>[createTextVNode(toDisplayString(s.symbol)+", "+toDisplayString(s.alphabetic_code),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})}}};export{_sfc_main$1 as _,_sfc_main as a};
