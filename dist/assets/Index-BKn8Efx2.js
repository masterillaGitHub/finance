import{_ as V,j as y,r as t,o as c,d as f,w as o,k as e,f as W,t as C,p as P,g as B,a as s,m as D,c as b,n as G,F as k,q as L,s as H,e as E,b as w,x as J,l as K,M as Q}from"./index-Bj5fpcLM.js";import{A as X,t as N,a as S,u as O,b as Y,c as z,_ as Z,r as ee,d as te,e as ne,i as oe}from"./DialogComponent-kcuC8M4C.js";const R=n=>(P("data-v-33f028a7"),n=n(),B(),n),ae=R(()=>s("div",{class:"text-h6 font-weight-light mb-2"}," Статок ",-1)),ce=R(()=>s("div",{class:"subheading font-weight-light text-grey"}," 50 000 грн ",-1)),se={__name:"TheWealthChart",setup(n){const i=y(["січ","лют","бер","квіт","трав","черв","лип","сер"]),l=y([200,675,410,390,310,460,250,240]);return(a,d)=>{const u=t("v-sparkline"),_=t("v-sheet"),g=t("v-card-text"),h=t("v-card");return c(),f(h,{class:"mt-8 mx-auto overflow-visible","max-width":"400"},{default:o(()=>[e(_,{class:"v-sheet--offset mx-auto",color:"cyan",elevation:"12","max-width":"calc(100% - 32px)",rounded:"lg"},{default:o(()=>[e(u,{"auto-draw":"",labels:i.value,"model-value":l.value,color:"white","line-width":"2",padding:"16"},{label:o(x=>[W(C(x.value)+". ",1)]),_:1},8,["labels","model-value"])]),_:1}),e(g,{class:"pt-0"},{default:o(()=>[ae,ce]),_:1})]),_:1})}}},le=V(se,[["__scopeId","data-v-33f028a7"]]),ie={class:"d-flex justify-space-between"},ue={class:"text-truncate"},re={__name:"AccountItem",props:{account:{type:Object,required:!0,validator:n=>n instanceof X},icon:String},setup(n){const i=n,l=D(()=>N(i.account.getSum(),{minimumFractionDigits:0}));return(a,d)=>{const u=t("v-avatar"),_=t("v-list-item");return c(),f(_,{to:{name:"accounts.show",params:{id:n.account.id}},class:"s-list-item"},{prepend:o(()=>[e(u,{class:"s-handle-sorting-account-item",icon:n.icon,color:"green"},null,8,["icon"])]),title:o(()=>[s("div",ie,[s("div",ue,C(n.account.name),1),s("div",null,[s("span",null,C(l.value),1)])])]),_:1},8,["to"])}}},_e=V(re,[["__scopeId","data-v-6a6b1879"]]),de={class:"d-flex w-100 justify-space-between align-center"},ve={class:"s-handle-sorting-account-group"},me={key:"0"},pe={key:"1"},fe={__name:"AccountCategoryItem",props:{category:{type:Object,required:!0,validator:n=>n instanceof S}},setup(n){const i=n,l=D(()=>N(i.category.getSum(),{minimumFractionDigits:0}));return(a,d)=>{const u=t("v-icon"),_=t("v-expansion-panel-title"),g=t("v-list"),h=t("v-expansion-panel-text"),x=t("v-expansion-panel");return c(),f(x,null,{default:o(()=>[e(_,{"hide-actions":"",class:"s-panel-title"},{default:o(({expanded:r})=>[s("div",de,[s("div",ve,[r?(c(),b("span",me,[e(u,{icon:"mdi-menu-down"})])):(c(),b("span",pe,[e(u,{icon:"mdi-menu-right"})])),s("span",null,C(n.category.name),1)]),s("div",{class:G({"text-grey":r})},[s("span",null,C(l.value),1)],2)])]),_:1}),e(h,{class:"s-custom-expansion-panel-text"},{default:o(()=>[e(g,null,{default:o(()=>[(c(!0),b(k,null,L(n.category.accounts,r=>(c(),f(_e,{key:r.id,account:r,icon:n.category.icon},null,8,["account","icon"]))),128))]),_:1})]),_:1})]),_:1})}}},ge=V(fe,[["__scopeId","data-v-c93a20d9"]]),he={key:1},xe={__name:"TheAccounts",setup(n){const i=O();y([]);const l=D(()=>S.findIn(i.categoriesIds)),a=y(!1);H(async()=>{await d()});async function d(){a.value=!0;try{const u=await S.loadMainPage();i.categoriesIds=u.data.data}finally{a.value=!1}}return(u,_)=>{const g=t("v-btn"),h=t("v-progress-linear"),x=t("v-expansion-panels");return c(),b("div",null,[e(g,{text:"load",onClick:d,class:"mb-4"}),a.value?(c(),f(h,{key:0,indeterminate:""})):E("",!0),l.value.length?(c(),b("div",he,[e(x,{multiple:"",modelValue:w(i).accountsPanelModel,"onUpdate:modelValue":_[0]||(_[0]=r=>w(i).accountsPanelModel=r)},{default:o(()=>[(c(!0),b(k,null,L(l.value,r=>(c(),f(ge,{key:r.id,category:r},null,8,["category"]))),128))]),_:1},8,["modelValue"])])):E("",!0)])}}},ye=n=>(P("data-v-69c3f97c"),n=n(),B(),n),be={class:"text-center mb-4"},we={class:"s-card-text-block"},Ce=ye(()=>s("div",null,"Тип рахунку",-1)),Se={__name:"TheCreateAccount",emits:["accountSave","dialogClose"],setup(n,{emit:i}){const l=i;Y();const a=z(),d=O(),u=y(),{check:_}=te(u),g=[ee];async function h(){await _()&&(l("accountSave"),x(),await a.saveAccount())}function x(){const v=a.account.getRelation("category");d.addCategoryId(v)}function r(v){a.createAccountSum(v)}return(v,m)=>{const $=t("v-avatar"),M=t("v-text-field"),A=t("v-divider"),T=t("v-form"),U=t("v-card-text"),j=t("v-spacer"),I=t("v-btn"),F=t("v-card-actions"),q=t("v-card");return c(),f(q,{"prepend-icon":"mdi-credit-card-plus-outline",title:"Додати рахунок"},{default:o(()=>[e(U,null,{default:o(()=>[s("div",be,[e($,{size:"x-large",icon:"mdi-cash",color:"green"})]),w(a).account?(c(),f(T,{key:0,ref_key:"form",ref:u},{default:o(()=>[e(M,{autofocus:"",label:"Назва рахунку",modelValue:w(a).account.name,"onUpdate:modelValue":m[0]||(m[0]=p=>w(a).account.name=p),rules:g},null,8,["modelValue"]),s("div",we,[s("div",null,[Ce,s("div",null,C(w(a).account.category.name),1)]),e(A)]),e(Z,{"account-sums":w(a).sums,"is-create-first":!0,onCreatedAccountSum:r},null,8,["account-sums"])]),_:1},512)):E("",!0)]),_:1}),e(A),e(F,null,{default:o(()=>[e(j),e(I,{text:"Відміна",variant:"plain",onClick:m[1]||(m[1]=p=>v.$emit("dialogClose"))}),e(I,{color:"primary",text:"Зберегти",variant:"tonal",onClick:h})]),_:1})]),_:1})}}},$e=V(Se,[["__scopeId","data-v-69c3f97c"]]),Ae={class:"text-center"},Ie={class:"d-flex flex-column align-center justify-center fill-height"},ke={class:"text-center"},Ve={__name:"TheAddAccount",setup(n){const i=z(),l=y(!1),a=y(!1),d=y(!1),u=y([]),_=D(()=>S.findIn(u.value));async function g(){a.value=!0;try{const v=await S.query().setUpdateMode(Q).get();u.value=v.data.data}finally{a.value=!1}}const h=async()=>{oe(_.value)&&await g(),d.value=!0};function x(v){i.resetAccountSum(),i.createAccount(v),l.value=!0}function r(){d.value=!1,l.value=!1}return(v,m)=>{const $=t("v-icon"),M=t("v-btn"),A=t("v-sheet"),T=t("v-col"),U=t("v-row"),j=t("v-container"),I=t("v-card"),F=t("v-bottom-sheet"),q=J("ripple");return c(),b(k,null,[s("div",Ae,[e(M,{variant:"outlined",loading:a.value,onClick:h},{default:o(()=>[e($,{icon:"mdi-wallet-plus-outline"})]),_:1},8,["loading"])]),e(F,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=p=>d.value=p)},{default:o(()=>[e(I,null,{default:o(()=>[e(j,null,{default:o(()=>[e(U,null,{default:o(()=>[(c(!0),b(k,null,L(_.value,p=>(c(),f(T,{cols:"6"},{default:o(()=>[K((c(),f(A,{border:"",rounded:"lg",height:"100",class:"w-100 bg-grey-lighten-3",onClick:De=>x(p.id)},{default:o(()=>[s("div",Ie,[e($,{class:"mb-1",icon:p.icon},null,8,["icon"]),s("div",ke,C(p.name),1)])]),_:2},1032,["onClick"])),[[q]])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ne,{modelValue:l.value,"onUpdate:modelValue":m[2]||(m[2]=p=>l.value=p)},{default:o(()=>[e($e,{onAccountSave:r,onDialogClose:m[1]||(m[1]=p=>l.value=!1)})]),_:1},8,["modelValue"])],64)}}},Ue={__name:"Index",setup(n){return(i,l)=>(c(),b("div",null,[e(le,{class:"mb-5"}),e(xe,{class:"mb-5"}),e(Ve)]))}};export{Ue as default};
