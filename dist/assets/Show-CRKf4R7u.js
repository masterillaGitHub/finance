import{u as M}from"./show.store-Cc9f3N65.js";import{r as t,o as u,d as f,w as a,k as e,b as x,_ as R,D as j,n as B,j as h,z as E,c as S,e as w,f as $,t as y,a as i,F as N,y as L,i as O,p as P,g as Q}from"./index-DZ83gzV4.js";import{A as z,t as W,c as X}from"./Transaction-_Nn6XxjK.js";import{_ as Y}from"./TransactionGroup-3eBJ5qWK.js";import{_ as Z,r as ee,u as te,a as ae}from"./DialogComponent-CYfPOLwo.js";import{a as ce,u as oe,_ as ne}from"./create.store-C8dINBLA.js";import{_ as se}from"./BottomConfirm-CUm0Hx8F.js";import"./entities-BQdZqXjV.js";import"./CurrenciesList-CjQHWWFu.js";/* empty css                                                         */const ue={__name:"TheAppBar",setup(m){const n=M();return(l,c)=>{const s=t("v-btn"),d=t("v-spacer"),_=t("v-app-bar");return u(),f(_,{elevation:2,density:"compact"},{prepend:a(()=>[e(s,{icon:"mdi-arrow-left",to:{name:"accounts.index"}})]),default:a(()=>[e(d),e(s,{icon:"mdi-pencil",onClick:c[0]||(c[0]=o=>x(n).editDialog=!0)})]),_:1})}}},le={class:"subheading font-weight-light text-grey text-center"},re={key:0},de={class:"font-weight-bold text-center"},ie={class:"d-flex justify-space-between"},me={__name:"TheTitleSection",setup(m){const n=j(),l=B(()=>z.find(n.params.id)),c=B(()=>l.value.sums.filter(k=>k.balance!==0)),s=B(()=>c.value.length),d=h(!1);E(b);const _=h(["січ","лют","бер","квіт","трав","черв","лип","сер"]),o=h([200,675,410,390,310,460,250,240]);async function b(){if(!l.value.exists){d.value=!0;try{await z.sync({include:"category,sums.currency","filter[id]":n.params.id})}finally{d.value=!1}}}return(k,F)=>{const C=t("v-progress-linear"),V=t("v-sparkline"),A=t("v-sheet"),T=t("v-card-title"),U=t("v-list-item"),v=t("v-list"),r=t("v-card-text"),D=t("v-card");return u(),S("div",null,[d.value?(u(),f(C,{key:0,indeterminate:""})):w("",!0),l.value?(u(),f(D,{key:1,class:"mt-8 mx-auto overflow-visible","max-width":"400",elevation:"0"},{default:a(()=>[e(A,{class:"v-sheet--offset mx-auto",color:"cyan",elevation:"12","max-width":"calc(100% - 32px)",rounded:"lg"},{default:a(()=>[e(V,{"auto-draw":"",labels:_.value,"model-value":o.value,color:"white","line-width":"2",padding:"16"},{label:a(p=>[$(y(p.value)+". ",1)]),_:1},8,["labels","model-value"])]),_:1}),e(T,{class:"text-center"},{default:a(()=>[$(y(l.value.name),1)]),_:1}),e(r,{class:"pt-0"},{default:a(()=>[i("div",le,[$(" Поточний баланс"),s.value>1?(u(),S("span",re,", в "+y(s.value)+" валютах",1)):w("",!0)]),i("div",de,y(x(W)(l.value.getSumInMineCurrency())),1),s.value>1?(u(),f(v,{key:0},{default:a(()=>[(u(!0),S(N,null,L(c.value,p=>(u(),f(U,{key:p.id,"prepend-icon":"mdi-flag-outline",class:"s-list-item"},{title:a(()=>[i("div",ie,[i("div",null,y(p.currency.name),1),i("div",null,y(x(X)(p.balance,p.currency.alphabetic_code)),1)])]),_:2},1024))),128))]),_:1})):w("",!0)]),_:1})]),_:1})):w("",!0)])}}},_e=R(me,[["__scopeId","data-v-4ba68e11"]]),ve={__name:"TheTransactions",setup(m){const n=[{date:"20.06.2024",items:[{category:"Подарунки дуже довга назва категорії",account:"Готівка",sum:-45e12,desc:"Також довгий опис транзакції"},{category:"Їжа та напої",account:"Готівка",sum:-1200,desc:"Купили суші"}]},{date:"18.06.2024",items:[{category:"Зарплата",account:"Готівка",sum:3e3,desc:null},{category:"Здоров'я дуже довга назва категорії",account:"Готівка",sum:-1200,desc:"Консультація лікаря"}]},{date:"17.06.2024",items:[{category:"Оренда житла",account:"Карта",sum:-8e3,desc:null}]},{date:"15.06.2024",items:[{category:"Розваги",account:"Карта",sum:-500,desc:"Кінотеатр"},{category:"Зарплата",account:"Банк",sum:5e3,desc:null},{category:"Транспорт",account:"Готівка",sum:-200,desc:"Таксі"}]},{date:"13.06.2024",items:[{category:"Інтернет",account:"Карта",sum:-400,desc:"Щомісячна оплата"}]},{date:"12.06.2024",items:[{category:"Комунальні послуги",account:"Карта",sum:-1500,desc:"Оплата за газ"}]},{date:"10.06.2024",items:[{category:"Подорожі",account:"Карта",sum:-2500,desc:"Бронювання готелю"},{category:"Зарплата",account:"Карта",sum:4e3,desc:null}]},{date:"08.06.2024",items:[{category:"Ремонт авто",account:"Готівка",sum:-3e3,desc:"Заміна масла"}]},{date:"07.06.2024",items:[{category:"Спорт і фітнес",account:"Карта",sum:-600,desc:"Абонемент у спортзал"},{category:"Зарплата",account:"Карта",sum:3500,desc:null},{category:"Їжа та напої",account:"Готівка",sum:-900,desc:"Покупка в супермаркеті"}]},{date:"05.06.2024",items:[{category:"Освіта",account:"Готівка",sum:-2e3,desc:"Курси англійської мови"}]},{date:"04.06.2024",items:[{category:"Розваги",account:"Карта",sum:-700,desc:"Квест-кімната"}]},{date:"02.06.2024",items:[{category:"Здоров'я",account:"Готівка",sum:-500,desc:"Ліки"}]},{date:"01.06.2024",items:[{category:"Подарунки",account:"Готівка",sum:-300,desc:null},{category:"Транспорт",account:"Готівка",sum:-150,desc:"Квиток на автобус"}]},{date:"30.05.2024",items:[{category:"Розваги",account:"Карта",sum:-1200,desc:"Вечірка"}]},{date:"28.05.2024",items:[{category:"Їжа та напої",account:"Готівка",sum:-1e3,desc:"Вечеря в ресторані"},{category:"Зарплата",account:"Банк",sum:4500,desc:null},{category:"Освіта",account:"Готівка",sum:-1200,desc:"Книги"}]},{date:"25.05.2024",items:[{category:"Транспорт",account:"Готівка",sum:-100,desc:"Проїзд в метро"}]},{date:"23.05.2024",items:[{category:"Інтернет",account:"Карта",sum:-350,desc:"Щомісячна оплата"},{category:"Комунальні послуги",account:"Карта",sum:-2e3,desc:"Оплата за електрику"}]},{date:"20.05.2024",items:[{category:"Подорожі",account:"Карта",sum:-4e3,desc:"Квитки на літак"}]},{date:"18.05.2024",items:[{category:"Зарплата",account:"Готівка",sum:3e3,desc:null},{category:"Їжа та напої",account:"Готівка",sum:-700,desc:"Сніданок в кафе"}]},{date:"15.05.2024",items:[{category:"Подарунки",account:"Готівка",sum:-450,desc:null},{category:"Транспорт",account:"Готівка",sum:-300,desc:"Проїзд в таксі"},{category:"Зарплата",account:"Карта",sum:3200,desc:null},{category:"Здоров'я",account:"Готівка",sum:-900,desc:"Консультація стоматолога"}]},{date:"13.05.2024",items:[{category:"Освіта",account:"Готівка",sum:-1500,desc:"Онлайн курс програмування"}]}];return(l,c)=>{const s=t("v-card-title"),d=t("v-card-text"),_=t("v-card");return u(),f(_,{elevation:"0"},{default:a(()=>[e(s,null,{default:a(()=>[$("Історія транзакцій")]),_:1}),e(d,null,{default:a(()=>[(u(),S(N,null,L(n,o=>e(Y,{group:o},null,8,["group"])),64))]),_:1})]),_:1})}}},pe=m=>(P("data-v-428a0fc5"),m=m(),Q(),m),fe={class:"text-center mb-4"},ge={class:"s-card-text-block"},ye=pe(()=>i("div",null,"Тип рахунку",-1)),xe={__name:"TheUpdateAccount",emits:["accountUpdate","dialogClose"],setup(m,{emit:n}){const l=n;ce();const c=j(),s=O();oe();const d=h(),_=h(!1),o=h(z.find(c.params.id)),b=h(o.value.sums),{check:k}=te(d),F=[ee];E(()=>{});async function C(){await k()&&(l("accountUpdate"),await A(),await V())}async function V(){await o.value.save({include:"category,sums.currency"})}async function A(){for(const v of b.value)v.account=o.value.id,await v.save({include:"currency"})}function T(){l("dialogClose"),o.value.destroy(),s.push({name:"accounts.index"})}function U(v){b.value.push(v)}return(v,r)=>{const D=t("v-text-field"),p=t("v-divider"),q=t("v-form"),H=t("v-card-text"),I=t("v-btn"),G=t("v-spacer"),J=t("v-card-actions"),K=t("v-card");return u(),f(K,{"prepend-icon":"mdi-credit-card-edit-outline",title:"Редагування рахунку"},{default:a(()=>[o.value?(u(),f(H,{key:0},{default:a(()=>[i("div",fe,[e(Z,{modelValue:o.value.icon,"onUpdate:modelValue":r[0]||(r[0]=g=>o.value.icon=g)},null,8,["modelValue"])]),e(q,{ref_key:"form",ref:d},{default:a(()=>[e(D,{label:"Назва рахунку",modelValue:o.value.name,"onUpdate:modelValue":r[1]||(r[1]=g=>o.value.name=g),rules:F},null,8,["modelValue"]),i("div",ge,[i("div",null,[ye,i("div",null,y(o.value.category.name),1)]),e(p)]),e(ne,{"account-sums":b.value,onCreatedAccountSum:U},null,8,["account-sums"])]),_:1},512),e(se,{modelValue:_.value,"onUpdate:modelValue":r[2]||(r[2]=g=>_.value=g),title:"Видалити?",onSuccess:T},null,8,["modelValue"])]),_:1})):w("",!0),e(p),e(J,null,{default:a(()=>[e(I,{class:"text-red",icon:"mdi-delete-outline",size:"large",variant:"plain",onClick:r[3]||(r[3]=g=>_.value=!0)}),e(G),e(I,{text:"Відміна",size:"large",variant:"plain",onClick:r[4]||(r[4]=g=>v.$emit("dialogClose"))}),e(I,{color:"primary",size:"large",text:"Зберегти",variant:"tonal",onClick:C})]),_:1})]),_:1})}}},he=R(xe,[["__scopeId","data-v-428a0fc5"]]),be={__name:"TheEditAccount",setup(m){const n=M();return(l,c)=>(u(),f(ae,{modelValue:x(n).editDialog,"onUpdate:modelValue":c[2]||(c[2]=s=>x(n).editDialog=s)},{default:a(()=>[e(he,{onAccountUpdate:c[0]||(c[0]=s=>x(n).editDialog=!1),onDialogClose:c[1]||(c[1]=s=>x(n).editDialog=!1)})]),_:1},8,["modelValue"]))}},Ie={__name:"Show",setup(m){return(n,l)=>(u(),S(N,null,[e(ue),e(_e,{class:"mb-4"}),e(ve),e(be)],64))}};export{Ie as default};
