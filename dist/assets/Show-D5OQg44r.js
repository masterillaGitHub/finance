import{y as W,r as t,o,d as v,w as n,k as e,b as x,a as l,_ as N,z as E,m as z,j as b,s as H,c as g,e as w,f as A,t as m,F as T,q,A as R,B as X,i as Y,p as Z,g as ee}from"./index-Bj5fpcLM.js";import{A as j,t as L,f as te,c as ce,u as ae,_ as oe,r as ne,d as se,e as ue}from"./DialogComponent-kcuC8M4C.js";const O=W("accounts/show",{state:()=>({editDialog:!1}),getters:{},actions:{}}),le=l("div",null,"Monobank UAH, black",-1),re={__name:"TheAppBar",setup(a){const s=O();return(r,c)=>{const u=t("v-btn"),_=t("v-spacer"),i=t("v-app-bar");return o(),v(i,{elevation:2,density:"compact"},{prepend:n(()=>[e(u,{icon:"mdi-arrow-left",to:{name:"accounts.index"}})]),default:n(()=>[le,e(_),e(u,{icon:"mdi-pencil",onClick:c[0]||(c[0]=d=>x(s).editDialog=!0)})]),_:1})}}},de={class:"subheading font-weight-light text-grey text-center"},ie={key:0},me={class:"font-weight-bold text-center"},_e={class:"d-flex justify-space-between"},ve={__name:"TheTitleSection",setup(a){const s=E(),r=z(()=>j.find(s.params.id)),c=z(()=>r.value.sums.filter(k=>k.balance>0)),u=z(()=>c.value.length),_=b(!1);H(h);const i=b(["січ","лют","бер","квіт","трав","черв","лип","сер"]),d=b([200,675,410,390,310,460,250,240]);async function h(){if(!r.value){_.value=!0;try{await j.sync({include:"category,sums.currency","filter[id]":s.params.id})}finally{_.value=!1}}}return(k,V)=>{const S=t("v-progress-linear"),$=t("v-sparkline"),U=t("v-sheet"),I=t("v-card-title"),D=t("v-list-item"),f=t("v-list"),p=t("v-card-text"),B=t("v-card");return o(),g("div",null,[_.value?(o(),v(S,{key:0,indeterminate:""})):w("",!0),r.value?(o(),v(B,{key:1,class:"mt-8 mx-auto overflow-visible","max-width":"400",elevation:"0"},{default:n(()=>[e(U,{class:"v-sheet--offset mx-auto",color:"cyan",elevation:"12","max-width":"calc(100% - 32px)",rounded:"lg"},{default:n(()=>[e($,{"auto-draw":"",labels:i.value,"model-value":d.value,color:"white","line-width":"2",padding:"16"},{label:n(y=>[A(m(y.value)+". ",1)]),_:1},8,["labels","model-value"])]),_:1}),e(I,{class:"text-center"},{default:n(()=>[A(m(r.value.name),1)]),_:1}),e(p,{class:"pt-0"},{default:n(()=>[l("div",de,[A(" Поточний баланс"),u.value>1?(o(),g("span",ie,", в "+m(u.value)+" валютах",1)):w("",!0)]),l("div",me,m(x(L)(r.value.getSum())),1),u.value>1?(o(),v(f,{key:0},{default:n(()=>[(o(!0),g(T,null,q(c.value,y=>(o(),v(D,{key:y.id,"prepend-icon":"mdi-flag-outline",class:"s-list-item"},{title:n(()=>[l("div",_e,[l("div",null,m(y.currency.name),1),l("div",null,m(x(te)(y.balance,y.currency.alphabetic_code)),1)])]),_:2},1024))),128))]),_:1})):w("",!0)]),_:1})]),_:1})):w("",!0)])}}},pe=N(ve,[["__scopeId","data-v-5939de0e"]]),fe={class:"d-flex"},ge={class:"pa-2"},ye={class:"s-dynamic-truncate-parent mr-3"},xe={class:"font-weight-bold _truncate-child"},he={class:"text-grey-darken-1 _truncate-child"},be={key:0,class:"text-grey-darken-1 _truncate-child"},ke={__name:"TransactionItem",props:{t:Object},setup(a){return(s,r)=>{const c=t("v-avatar"),u=t("v-icon");return o(),g("div",fe,[l("div",ge,[e(c,{size:"",icon:"mdi-cart"})]),l("div",ye,[l("div",xe,m(a.t.category),1),l("div",he,[e(u,{icon:"mdi-cash"}),l("span",null,m(a.t.account),1)]),a.t.desc?(o(),g("div",be,m(a.t.desc),1)):w("",!0)]),l("div",null,m(x(L)(a.t.sum)),1)])}}},$e=N(ke,[["__scopeId","data-v-bdb2091e"]]),we={class:"text-grey"},Se={__name:"TransactionGroup",props:{group:Object},setup(a){return(s,r)=>(o(),g("div",null,[l("div",we,m(a.group.date),1),(o(!0),g(T,null,q(a.group.items,c=>(o(),v($e,{t:c},null,8,["t"]))),256))]))}},Ce={__name:"TheTransactions",setup(a){const s=[{date:"20.06.2024",items:[{category:"Подарунки дуже довга назва категорії",account:"Готівка",sum:-45e12,desc:"Також довгий опис транзакції"},{category:"Їжа та напої",account:"Готівка",sum:-1200,desc:"Купили суші"}]},{date:"18.06.2024",items:[{category:"Зарплата",account:"Готівка",sum:3e3,desc:null},{category:"Здоров'я дуже довга назва категорії",account:"Готівка",sum:-1200,desc:"Консультація лікаря"}]},{date:"17.06.2024",items:[{category:"Оренда житла",account:"Карта",sum:-8e3,desc:null}]},{date:"15.06.2024",items:[{category:"Розваги",account:"Карта",sum:-500,desc:"Кінотеатр"},{category:"Зарплата",account:"Банк",sum:5e3,desc:null},{category:"Транспорт",account:"Готівка",sum:-200,desc:"Таксі"}]},{date:"13.06.2024",items:[{category:"Інтернет",account:"Карта",sum:-400,desc:"Щомісячна оплата"}]},{date:"12.06.2024",items:[{category:"Комунальні послуги",account:"Карта",sum:-1500,desc:"Оплата за газ"}]},{date:"10.06.2024",items:[{category:"Подорожі",account:"Карта",sum:-2500,desc:"Бронювання готелю"},{category:"Зарплата",account:"Карта",sum:4e3,desc:null}]},{date:"08.06.2024",items:[{category:"Ремонт авто",account:"Готівка",sum:-3e3,desc:"Заміна масла"}]},{date:"07.06.2024",items:[{category:"Спорт і фітнес",account:"Карта",sum:-600,desc:"Абонемент у спортзал"},{category:"Зарплата",account:"Карта",sum:3500,desc:null},{category:"Їжа та напої",account:"Готівка",sum:-900,desc:"Покупка в супермаркеті"}]},{date:"05.06.2024",items:[{category:"Освіта",account:"Готівка",sum:-2e3,desc:"Курси англійської мови"}]},{date:"04.06.2024",items:[{category:"Розваги",account:"Карта",sum:-700,desc:"Квест-кімната"}]},{date:"02.06.2024",items:[{category:"Здоров'я",account:"Готівка",sum:-500,desc:"Ліки"}]},{date:"01.06.2024",items:[{category:"Подарунки",account:"Готівка",sum:-300,desc:null},{category:"Транспорт",account:"Готівка",sum:-150,desc:"Квиток на автобус"}]},{date:"30.05.2024",items:[{category:"Розваги",account:"Карта",sum:-1200,desc:"Вечірка"}]},{date:"28.05.2024",items:[{category:"Їжа та напої",account:"Готівка",sum:-1e3,desc:"Вечеря в ресторані"},{category:"Зарплата",account:"Банк",sum:4500,desc:null},{category:"Освіта",account:"Готівка",sum:-1200,desc:"Книги"}]},{date:"25.05.2024",items:[{category:"Транспорт",account:"Готівка",sum:-100,desc:"Проїзд в метро"}]},{date:"23.05.2024",items:[{category:"Інтернет",account:"Карта",sum:-350,desc:"Щомісячна оплата"},{category:"Комунальні послуги",account:"Карта",sum:-2e3,desc:"Оплата за електрику"}]},{date:"20.05.2024",items:[{category:"Подорожі",account:"Карта",sum:-4e3,desc:"Квитки на літак"}]},{date:"18.05.2024",items:[{category:"Зарплата",account:"Готівка",sum:3e3,desc:null},{category:"Їжа та напої",account:"Готівка",sum:-700,desc:"Сніданок в кафе"}]},{date:"15.05.2024",items:[{category:"Подарунки",account:"Готівка",sum:-450,desc:null},{category:"Транспорт",account:"Готівка",sum:-300,desc:"Проїзд в таксі"},{category:"Зарплата",account:"Карта",sum:3200,desc:null},{category:"Здоров'я",account:"Готівка",sum:-900,desc:"Консультація стоматолога"}]},{date:"13.05.2024",items:[{category:"Освіта",account:"Готівка",sum:-1500,desc:"Онлайн курс програмування"}]}];return(r,c)=>{const u=t("v-card-title"),_=t("v-card-text"),i=t("v-card");return o(),v(i,{elevation:"0"},{default:n(()=>[e(u,null,{default:n(()=>[A("Історія транзакцій")]),_:1}),e(_,null,{default:n(()=>[(o(),g(T,null,q(s,d=>e(Se,{group:d},null,8,["group"])),64))]),_:1})]),_:1})}}},Ve={__name:"ConfirmBottomComponent",props:R({title:{type:String,required:!0},text:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:R(["success","cancel"],["update:modelValue"]),setup(a,{emit:s}){const r=s,c=X(a,"modelValue");function u(){c.value=!1,r("cancel")}return(_,i)=>{const d=t("v-btn"),h=t("v-spacer"),k=t("v-card-actions"),V=t("v-card"),S=t("v-bottom-sheet");return o(),v(S,{modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=$=>c.value=$)},{default:n(()=>[e(V,{title:a.title,text:a.text},{default:n(()=>[e(k,null,{default:n(()=>[e(d,{class:"text-red",text:"Відміна",variant:"plain",size:"x-large",onClick:u}),e(h),e(d,{color:"primary",text:"Ок",variant:"tonal",size:"x-large",onClick:i[0]||(i[0]=$=>r("success"))})]),_:1})]),_:1},8,["title","text"])]),_:1},8,["modelValue"])}}},Ae=a=>(Z("data-v-047ed7f4"),a=a(),ee(),a),Te={class:"text-center mb-4"},Ue={class:"s-card-text-block"},Ie=Ae(()=>l("div",null,"Тип рахунку",-1)),De={__name:"TheUpdateAccount",emits:["accountUpdate","dialogClose"],setup(a,{emit:s}){const r=s;ce();const c=E(),u=Y();ae();const _=b(),i=b(!1),d=b(j.find(c.params.id)),h=b(d.value.sums),{check:k}=se(_),V=[ne];H(()=>{});async function S(){await k()&&(r("accountUpdate"),await U(),await $())}async function $(){await d.value.save({include:"category,sums.currency"})}async function U(){for(const f of h.value)f.account=d.value.id,await f.save({include:"currency"})}function I(){r("dialogClose"),d.value.destroy(),u.push({name:"accounts.index"})}function D(f){h.value.push(f)}return(f,p)=>{const B=t("v-avatar"),y=t("v-text-field"),F=t("v-divider"),G=t("v-form"),J=t("v-card-text"),M=t("v-btn"),K=t("v-spacer"),P=t("v-card-actions"),Q=t("v-card");return o(),v(Q,{"prepend-icon":"mdi-credit-card-edit-outline",title:"Редагування рахунку"},{default:n(()=>[d.value?(o(),v(J,{key:0},{default:n(()=>[l("div",Te,[e(B,{size:"x-large",icon:"mdi-cash",color:"green"})]),e(G,{ref_key:"form",ref:_},{default:n(()=>[e(y,{autofocus:"",label:"Назва рахунку",modelValue:d.value.name,"onUpdate:modelValue":p[0]||(p[0]=C=>d.value.name=C),rules:V},null,8,["modelValue"]),l("div",Ue,[l("div",null,[Ie,l("div",null,m(d.value.category.name),1)]),e(F)]),e(oe,{"account-sums":h.value,onCreatedAccountSum:D},null,8,["account-sums"])]),_:1},512),e(Ve,{modelValue:i.value,"onUpdate:modelValue":p[1]||(p[1]=C=>i.value=C),title:"Видалити?",onSuccess:I},null,8,["modelValue"])]),_:1})):w("",!0),e(F),e(P,null,{default:n(()=>[e(M,{class:"text-red",icon:"mdi-delete-outline",variant:"plain",onClick:p[2]||(p[2]=C=>i.value=!0)}),e(K),e(M,{text:"Відміна",variant:"plain",onClick:p[3]||(p[3]=C=>f.$emit("dialogClose"))}),e(M,{color:"primary",text:"Зберегти",variant:"tonal",onClick:S})]),_:1})]),_:1})}}},Be=N(De,[["__scopeId","data-v-047ed7f4"]]),Me={__name:"TheEditAccount",setup(a){const s=O();return(r,c)=>(o(),v(ue,{modelValue:x(s).editDialog,"onUpdate:modelValue":c[2]||(c[2]=u=>x(s).editDialog=u)},{default:n(()=>[e(Be,{onAccountUpdate:c[0]||(c[0]=u=>x(s).editDialog=!1),onDialogClose:c[1]||(c[1]=u=>x(s).editDialog=!1)})]),_:1},8,["modelValue"]))}},Ne={__name:"Show",setup(a){return(s,r)=>(o(),g(T,null,[e(re),e(pe,{class:"mb-4"}),e(Ce),e(Me)],64))}};export{Ne as default};
