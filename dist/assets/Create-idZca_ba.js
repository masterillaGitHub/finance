import{u as useShowStore}from"./show.store-B-m4Unvd.js";import{r as resolveComponent,o as openBlock,d as createBlock,w as withCtx,k as createVNode,G as defineStore,T as isNull,U as TYPE_ID_TRANSFER,Q as isEmpty,V as isNotNull,W as TRANSACTION_TYPES,_ as _export_sfc,s as onMounted,c as createElementBlock,a as createBaseVNode,t as toDisplayString,b as unref,e as createCommentVNode,X as mergeProps,m as computed,f as createTextVNode,F as Fragment,y as renderList,Y as nextTick,j as ref,Z as watchEffect,$ as createSlots,a0 as withModifiers,p as pushScopeId,g as popScopeId,D as mergeModels,E as useModel,a1 as onUnmounted,a2 as TYPE_ID_INCOME,a3 as isInteger,I as isNumber}from"./index-Dq0Qrvv2.js";import{_ as _sfc_main$e}from"./CurrenciesList-B0UQT6-5.js";import{C as Currency,A as Account,g as TransactionCategory,a as AccountCategory,T as Transaction}from"./entities-BiPASufS.js";const _sfc_main$d={__name:"TheAppBar",setup(e){return useShowStore(),(t,n)=>{const a=resolveComponent("v-btn"),o=resolveComponent("v-spacer"),r=resolveComponent("v-app-bar");return openBlock(),createBlock(r,{elevation:2,density:"compact"},{prepend:withCtx(()=>[createVNode(a,{icon:"mdi-arrow-left",to:{name:"transactions.index"}})]),default:withCtx(()=>[createVNode(o)]),_:1})}}},useCurrenciesStore=defineStore("currencies",{state:()=>({loading:!1}),getters:{currencies:()=>Currency.findLoaded()},actions:{async loadCurrencies(){if(this.currencies.length!==3){this.loading=!0;try{await Currency.sync()}finally{this.loading=!1}}}}});function toDate(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function constructFrom(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function addDays(e,t){const n=toDate(e);return isNaN(t)?constructFrom(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function setDefaultOptions$1(e){defaultOptions=e}function startOfWeek(e,t){var c,l,f,m;const n=getDefaultOptions(),a=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=toDate(e),r=o.getDay(),i=(r<a?7:0)+r-a;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function startOfISOWeek(e){return startOfWeek(e,{weekStartsOn:1})}function getISOWeekYear(e){const t=toDate(e),n=t.getFullYear(),a=constructFrom(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=startOfISOWeek(a),r=constructFrom(e,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const i=startOfISOWeek(r);return t.getTime()>=o.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function startOfDay(e){const t=toDate(e);return t.setHours(0,0,0,0),t}function getTimezoneOffsetInMilliseconds(e){const t=toDate(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function differenceInCalendarDays(e,t){const n=startOfDay(e),a=startOfDay(t),o=+n-getTimezoneOffsetInMilliseconds(n),r=+a-getTimezoneOffsetInMilliseconds(a);return Math.round((o-r)/millisecondsInDay)}function startOfISOWeekYear(e){const t=getISOWeekYear(e),n=constructFrom(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),startOfISOWeek(n)}function constructNow(e){return constructFrom(e,Date.now())}function isSameDay(e,t){const n=startOfDay(e),a=startOfDay(t);return+n==+a}function isDate(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function isValid(e){if(!isDate(e)&&typeof e!="number")return!1;const t=toDate(e);return!isNaN(Number(t))}function startOfYear(e){const t=toDate(e),n=constructFrom(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(e,t,n)=>{let a;const o=formatDistanceLocale$1[e];return typeof o=="string"?a=o:t===1?a=o.one:a=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function buildFormatLongFn(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(e,t,n,a)=>formatRelativeLocale$1[e];function buildLocalizeFn(e){return(t,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):i;o=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[i]}const r=e.argumentCallback?e.argumentCallback(t):t;return o[r]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:e=>e-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(e){return(t,n={})=>{const a=n.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],r=t.match(o);if(!r)return null;const i=r[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?findIndex(c,u=>u.test(i)):findKey(c,u=>u.test(i));let f;f=e.valueCallback?e.valueCallback(l):l,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(i.length);return{value:f,rest:m}}}function findKey(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function findIndex(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function buildMatchPatternFn(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const o=a[0],r=t.match(e.parsePattern);if(!r)return null;let i=e.valueCallback?e.valueCallback(r[0]):r[0];i=n.valueCallback?n.valueCallback(i):i;const c=t.slice(o.length);return{value:i,rest:c}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:e=>parseInt(e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(e){const t=toDate(e);return differenceInCalendarDays(t,startOfYear(t))+1}function getISOWeek(e){const t=toDate(e),n=+startOfISOWeek(t)-+startOfISOWeekYear(t);return Math.round(n/millisecondsInWeek)+1}function getWeekYear(e,t){var m,u,v,h;const n=toDate(e),a=n.getFullYear(),o=getDefaultOptions(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??o.firstWeekContainsDate??((h=(v=o.locale)==null?void 0:v.options)==null?void 0:h.firstWeekContainsDate)??1,i=constructFrom(e,0);i.setFullYear(a+1,0,r),i.setHours(0,0,0,0);const c=startOfWeek(i,t),l=constructFrom(e,0);l.setFullYear(a,0,r),l.setHours(0,0,0,0);const f=startOfWeek(l,t);return n.getTime()>=c.getTime()?a+1:n.getTime()>=f.getTime()?a:a-1}function startOfWeekYear(e,t){var c,l,f,m;const n=getDefaultOptions(),a=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=getWeekYear(e,t),r=constructFrom(e,0);return r.setFullYear(o,0,a),r.setHours(0,0,0,0),startOfWeek(r,t)}function getWeek(e,t){const n=toDate(e),a=+startOfWeek(n,t)-+startOfWeekYear(n,t);return Math.round(a/millisecondsInWeek)+1}function addLeadingZeros(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const lightFormatters={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return addLeadingZeros(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):addLeadingZeros(n+1,2)},d(e,t){return addLeadingZeros(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return addLeadingZeros(e.getHours()%12||12,t.length)},H(e,t){return addLeadingZeros(e.getHours(),t.length)},m(e,t){return addLeadingZeros(e.getMinutes(),t.length)},s(e,t){return addLeadingZeros(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return addLeadingZeros(o,t.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return lightFormatters.y(e,t)},Y:function(e,t,n,a){const o=getWeekYear(e,a),r=o>0?o:1-o;if(t==="YY"){const i=r%100;return addLeadingZeros(i,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):addLeadingZeros(r,t.length)},R:function(e,t){const n=getISOWeekYear(e);return addLeadingZeros(n,t.length)},u:function(e,t){const n=e.getFullYear();return addLeadingZeros(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return addLeadingZeros(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return addLeadingZeros(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return lightFormatters.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return addLeadingZeros(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const o=getWeek(e,a);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,t.length)},I:function(e,t,n){const a=getISOWeek(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):addLeadingZeros(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):lightFormatters.d(e,t)},D:function(e,t,n){const a=getDayOfYear(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):addLeadingZeros(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const o=e.getDay(),r=(o-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return addLeadingZeros(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const o=e.getDay(),r=(o-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return addLeadingZeros(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),o=a===0?7:a;switch(t){case"i":return String(o);case"ii":return addLeadingZeros(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let o;switch(a===12?o=dayPeriodEnum.noon:a===0?o=dayPeriodEnum.midnight:o=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let o;switch(a>=17?o=dayPeriodEnum.evening:a>=12?o=dayPeriodEnum.afternoon:a>=4?o=dayPeriodEnum.morning:o=dayPeriodEnum.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return lightFormatters.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):lightFormatters.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):lightFormatters.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):lightFormatters.s(e,t)},S:function(e,t){return lightFormatters.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return formatTimezoneWithOptionalMinutes(a);case"XXXX":case"XX":return formatTimezone(a);case"XXXXX":case"XXX":default:return formatTimezone(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return formatTimezoneWithOptionalMinutes(a);case"xxxx":case"xx":return formatTimezone(a);case"xxxxx":case"xxx":default:return formatTimezone(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(a,":");case"OOOO":default:return"GMT"+formatTimezone(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(a,":");case"zzzz":default:return"GMT"+formatTimezone(a,":")}},t:function(e,t,n){const a=Math.trunc(e.getTime()/1e3);return addLeadingZeros(a,t.length)},T:function(e,t,n){const a=e.getTime();return addLeadingZeros(a,t.length)}};function formatTimezoneShort(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),o=Math.trunc(a/60),r=a%60;return r===0?n+String(o):n+String(o)+t+addLeadingZeros(r,2)}function formatTimezoneWithOptionalMinutes(e,t){return e%60===0?(e>0?"-":"+")+addLeadingZeros(Math.abs(e)/60,2):formatTimezone(e,t)}function formatTimezone(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),o=addLeadingZeros(Math.trunc(a/60),2),r=addLeadingZeros(a%60,2);return n+o+t+r}const dateLongFormatter=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},timeLongFormatter=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},dateTimeLongFormatter=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return dateLongFormatter(e,t);let r;switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",dateLongFormatter(a,t)).replace("{{time}}",timeLongFormatter(o,t))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(e){return dayOfYearTokenRE.test(e)}function isProtectedWeekYearToken(e){return weekYearTokenRE.test(e)}function warnOrThrowProtectedError(e,t,n){const a=message(e,t,n);if(console.warn(a),throwTokens.includes(e))throw new RangeError(a)}function message(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(e,t,n){var m,u,v,h;const a=getDefaultOptions(),o=a.locale??enUS,r=a.firstWeekContainsDate??((u=(m=a.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??1,i=a.weekStartsOn??((h=(v=a.locale)==null?void 0:v.options)==null?void 0:h.weekStartsOn)??0,c=toDate(e);if(!isValid(c))throw new RangeError("Invalid time value");let l=t.match(longFormattingTokensRegExp).map(d=>{const s=d[0];if(s==="p"||s==="P"){const _=longFormatters[s];return _(d,o.formatLong)}return d}).join("").match(formattingTokensRegExp).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const s=d[0];if(s==="'")return{isToken:!1,value:cleanEscapedString(d)};if(formatters[s])return{isToken:!0,value:d};if(s.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+s+"`");return{isToken:!1,value:d}});o.localize.preprocessor&&(l=o.localize.preprocessor(c,l));const f={firstWeekContainsDate:r,weekStartsOn:i,locale:o};return l.map(d=>{if(!d.isToken)return d.value;const s=d.value;(isProtectedWeekYearToken(s)||isProtectedDayOfYearToken(s))&&warnOrThrowProtectedError(s,t,String(e));const _=formatters[s[0]];return _(c,s,o.localize,f)}).join("")}function cleanEscapedString(e){const t=e.match(escapedStringRegExp);return t?t[1].replace(doubleQuoteRegExp,"'"):e}function isSameWeek(e,t,n){const a=startOfWeek(e,n),o=startOfWeek(t,n);return+a==+o}function isToday(e){return isSameDay(e,constructNow(e))}function isTomorrow(e){return isSameDay(e,addDays(constructNow(e),1))}function subDays(e,t){return addDays(e,-t)}function isYesterday(e){return isSameDay(e,subDays(constructNow(e),1))}function setDefaultOptions(e){const t={},n=getDefaultOptions();for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(e[a]===void 0?delete t[a]:t[a]=e[a]);setDefaultOptions$1(t)}function declension(e,t){if(e.one!==void 0&&t===1)return e.one;const n=t%10,a=t%100;return n===1&&a!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(a<10||a>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function buildLocalizeTokenFn(e){return(t,n)=>n&&n.addSuffix?n.comparison&&n.comparison>0?e.future?declension(e.future,t):"за "+declension(e.regular,t):e.past?declension(e.past,t):declension(e.regular,t)+" тому":declension(e.regular,t)}const halfAtMinute=(e,t)=>t&&t.addSuffix?t.comparison&&t.comparison>0?"за півхвилини":"півхвилини тому":"півхвилини",formatDistanceLocale={lessThanXSeconds:buildLocalizeTokenFn({regular:{one:"менше секунди",singularNominative:"менше {{count}} секунди",singularGenitive:"менше {{count}} секунд",pluralGenitive:"менше {{count}} секунд"},future:{one:"менше, ніж за секунду",singularNominative:"менше, ніж за {{count}} секунду",singularGenitive:"менше, ніж за {{count}} секунди",pluralGenitive:"менше, ніж за {{count}} секунд"}}),xSeconds:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунди",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду тому",singularGenitive:"{{count}} секунди тому",pluralGenitive:"{{count}} секунд тому"},future:{singularNominative:"за {{count}} секунду",singularGenitive:"за {{count}} секунди",pluralGenitive:"за {{count}} секунд"}}),halfAMinute:halfAtMinute,lessThanXMinutes:buildLocalizeTokenFn({regular:{one:"менше хвилини",singularNominative:"менше {{count}} хвилини",singularGenitive:"менше {{count}} хвилин",pluralGenitive:"менше {{count}} хвилин"},future:{one:"менше, ніж за хвилину",singularNominative:"менше, ніж за {{count}} хвилину",singularGenitive:"менше, ніж за {{count}} хвилини",pluralGenitive:"менше, ніж за {{count}} хвилин"}}),xMinutes:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} хвилина",singularGenitive:"{{count}} хвилини",pluralGenitive:"{{count}} хвилин"},past:{singularNominative:"{{count}} хвилину тому",singularGenitive:"{{count}} хвилини тому",pluralGenitive:"{{count}} хвилин тому"},future:{singularNominative:"за {{count}} хвилину",singularGenitive:"за {{count}} хвилини",pluralGenitive:"за {{count}} хвилин"}}),aboutXHours:buildLocalizeTokenFn({regular:{singularNominative:"близько {{count}} години",singularGenitive:"близько {{count}} годин",pluralGenitive:"близько {{count}} годин"},future:{singularNominative:"приблизно за {{count}} годину",singularGenitive:"приблизно за {{count}} години",pluralGenitive:"приблизно за {{count}} годин"}}),xHours:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} годину",singularGenitive:"{{count}} години",pluralGenitive:"{{count}} годин"}}),xDays:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} днi",pluralGenitive:"{{count}} днів"}}),aboutXWeeks:buildLocalizeTokenFn({regular:{singularNominative:"близько {{count}} тижня",singularGenitive:"близько {{count}} тижнів",pluralGenitive:"близько {{count}} тижнів"},future:{singularNominative:"приблизно за {{count}} тиждень",singularGenitive:"приблизно за {{count}} тижні",pluralGenitive:"приблизно за {{count}} тижнів"}}),xWeeks:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} тиждень",singularGenitive:"{{count}} тижні",pluralGenitive:"{{count}} тижнів"}}),aboutXMonths:buildLocalizeTokenFn({regular:{singularNominative:"близько {{count}} місяця",singularGenitive:"близько {{count}} місяців",pluralGenitive:"близько {{count}} місяців"},future:{singularNominative:"приблизно за {{count}} місяць",singularGenitive:"приблизно за {{count}} місяці",pluralGenitive:"приблизно за {{count}} місяців"}}),xMonths:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} місяць",singularGenitive:"{{count}} місяці",pluralGenitive:"{{count}} місяців"}}),aboutXYears:buildLocalizeTokenFn({regular:{singularNominative:"близько {{count}} року",singularGenitive:"близько {{count}} років",pluralGenitive:"близько {{count}} років"},future:{singularNominative:"приблизно за {{count}} рік",singularGenitive:"приблизно за {{count}} роки",pluralGenitive:"приблизно за {{count}} років"}}),xYears:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} рік",singularGenitive:"{{count}} роки",pluralGenitive:"{{count}} років"}}),overXYears:buildLocalizeTokenFn({regular:{singularNominative:"більше {{count}} року",singularGenitive:"більше {{count}} років",pluralGenitive:"більше {{count}} років"},future:{singularNominative:"більше, ніж за {{count}} рік",singularGenitive:"більше, ніж за {{count}} роки",pluralGenitive:"більше, ніж за {{count}} років"}}),almostXYears:buildLocalizeTokenFn({regular:{singularNominative:"майже {{count}} рік",singularGenitive:"майже {{count}} роки",pluralGenitive:"майже {{count}} років"},future:{singularNominative:"майже за {{count}} рік",singularGenitive:"майже за {{count}} роки",pluralGenitive:"майже за {{count}} років"}})},formatDistance=(e,t,n)=>(n=n||{},formatDistanceLocale[e](t,n)),dateFormats={full:"EEEE, do MMMM y 'р.'",long:"do MMMM y 'р.'",medium:"d MMM y 'р.'",short:"dd.MM.y"},timeFormats={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},dateTimeFormats={full:"{{date}} 'о' {{time}}",long:"{{date}} 'о' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},accusativeWeekdays=["неділю","понеділок","вівторок","середу","четвер","п’ятницю","суботу"];function lastWeek(e){const t=accusativeWeekdays[e];switch(e){case 0:case 3:case 5:case 6:return"'у минулу "+t+" о' p";case 1:case 2:case 4:return"'у минулий "+t+" о' p"}}function thisWeek(e){return"'у "+accusativeWeekdays[e]+" о' p"}function nextWeek(e){const t=accusativeWeekdays[e];switch(e){case 0:case 3:case 5:case 6:return"'у наступну "+t+" о' p";case 1:case 2:case 4:return"'у наступний "+t+" о' p"}}const lastWeekFormat=(e,t,n)=>{const a=toDate(e),o=a.getDay();return isSameWeek(a,t,n)?thisWeek(o):lastWeek(o)},nextWeekFormat=(e,t,n)=>{const a=toDate(e),o=a.getDay();return isSameWeek(a,t,n)?thisWeek(o):nextWeek(o)},formatRelativeLocale={lastWeek:lastWeekFormat,yesterday:"'вчора о' p",today:"'сьогодні о' p",tomorrow:"'завтра о' p",nextWeek:nextWeekFormat,other:"P"},formatRelative=(e,t,n,a)=>{const o=formatRelativeLocale[e];return typeof o=="function"?o(t,n,a):o},eraValues={narrow:["до н.е.","н.е."],abbreviated:["до н. е.","н. е."],wide:["до нашої ери","нашої ери"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},monthValues={narrow:["С","Л","Б","К","Т","Ч","Л","С","В","Ж","Л","Г"],abbreviated:["січ.","лют.","берез.","квіт.","трав.","черв.","лип.","серп.","верес.","жовт.","листоп.","груд."],wide:["січень","лютий","березень","квітень","травень","червень","липень","серпень","вересень","жовтень","листопад","грудень"]},formattingMonthValues={narrow:["С","Л","Б","К","Т","Ч","Л","С","В","Ж","Л","Г"],abbreviated:["січ.","лют.","берез.","квіт.","трав.","черв.","лип.","серп.","верес.","жовт.","листоп.","груд."],wide:["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"]},dayValues={narrow:["Н","П","В","С","Ч","П","С"],short:["нд","пн","вт","ср","чт","пт","сб"],abbreviated:["нед","пон","вів","сер","чтв","птн","суб"],wide:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"]},dayPeriodValues={narrow:{am:"ДП",pm:"ПП",midnight:"півн.",noon:"пол.",morning:"ранок",afternoon:"день",evening:"веч.",night:"ніч"},abbreviated:{am:"ДП",pm:"ПП",midnight:"півн.",noon:"пол.",morning:"ранок",afternoon:"день",evening:"веч.",night:"ніч"},wide:{am:"ДП",pm:"ПП",midnight:"північ",noon:"полудень",morning:"ранок",afternoon:"день",evening:"вечір",night:"ніч"}},formattingDayPeriodValues={narrow:{am:"ДП",pm:"ПП",midnight:"півн.",noon:"пол.",morning:"ранку",afternoon:"дня",evening:"веч.",night:"ночі"},abbreviated:{am:"ДП",pm:"ПП",midnight:"півн.",noon:"пол.",morning:"ранку",afternoon:"дня",evening:"веч.",night:"ночі"},wide:{am:"ДП",pm:"ПП",midnight:"північ",noon:"полудень",morning:"ранку",afternoon:"дня",evening:"веч.",night:"ночі"}},ordinalNumber=(e,t)=>{const n=String(t==null?void 0:t.unit),a=Number(e);let o;return n==="date"?a===3||a===23?o="-є":o="-е":n==="minute"||n==="second"||n==="hour"?o="-а":o="-й",a+o},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:e=>e-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide",formattingValues:formattingMonthValues,defaultFormattingWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"any",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)(-?(е|й|є|а|я))?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^((до )?н\.?\s?е\.?)/i,abbreviated:/^((до )?н\.?\s?е\.?)/i,wide:/^(до нашої ери|нашої ери|наша ера)/i},parseEraPatterns={any:[/^д/i,/^н/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^[1234](-?[иі]?й?)? кв.?/i,wide:/^[1234](-?[иі]?й?)? квартал/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[слбктчвжг]/i,abbreviated:/^(січ|лют|бер(ез)?|квіт|трав|черв|лип|серп|вер(ес)?|жовт|лис(топ)?|груд)\.?/i,wide:/^(січень|січня|лютий|лютого|березень|березня|квітень|квітня|травень|травня|червня|червень|липень|липня|серпень|серпня|вересень|вересня|жовтень|жовтня|листопад[а]?|грудень|грудня)/i},parseMonthPatterns={narrow:[/^с/i,/^л/i,/^б/i,/^к/i,/^т/i,/^ч/i,/^л/i,/^с/i,/^в/i,/^ж/i,/^л/i,/^г/i],any:[/^сі/i,/^лю/i,/^б/i,/^к/i,/^т/i,/^ч/i,/^лип/i,/^се/i,/^в/i,/^ж/i,/^лис/i,/^г/i]},matchDayPatterns={narrow:/^[нпвсч]/i,short:/^(нд|пн|вт|ср|чт|пт|сб)\.?/i,abbreviated:/^(нед|пон|вів|сер|че?тв|птн?|суб)\.?/i,wide:/^(неділ[яі]|понеділ[ок][ка]|вівтор[ок][ка]|серед[аи]|четвер(га)?|п\W*?ятниц[яі]|субот[аи])/i},parseDayPatterns={narrow:[/^н/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^н/i,/^п[он]/i,/^в/i,/^с[ер]/i,/^ч/i,/^п\W*?[ят]/i,/^с[уб]/i]},matchDayPeriodPatterns={narrow:/^([дп]п|півн\.?|пол\.?|ранок|ранку|день|дня|веч\.?|ніч|ночі)/i,abbreviated:/^([дп]п|півн\.?|пол\.?|ранок|ранку|день|дня|веч\.?|ніч|ночі)/i,wide:/^([дп]п|північ|полудень|ранок|ранку|день|дня|вечір|вечора|ніч|ночі)/i},parseDayPeriodPatterns={any:{am:/^дп/i,pm:/^пп/i,midnight:/^півн/i,noon:/^пол/i,morning:/^р/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:e=>parseInt(e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:e=>e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},uk={code:"uk",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:1}};function useDateFormat(){return{text:t=>(setDefaultOptions({locale:uk}),isToday(t)?"today":isYesterday(t)?"yesterday":isTomorrow(t)?"tomorrow":format(t,"iiii, d MMMM yyyy"))}}const STEP_CLOSED=null,STEP_TYPE="type",STEP_ACCOUNT="account",STEP_CATEGORY="category",STEP_DATE="date",STEP_TAG="tag",STEP_ENROLLMENT_ACCOUNT="enrollment_account",STEP_ENROLLMENT_AMOUNT="enrollment_amount";function nextStep(e){switch(e.openStep){case STEP_TYPE:doneTypeHandle(e);break;case STEP_ACCOUNT:doneAccountHandle(e);break;case STEP_CATEGORY:doneCategoryHandle(e);break;case STEP_ENROLLMENT_ACCOUNT:doneEnrollmentAccountHandle(e);break;default:e.openStep=STEP_CLOSED}}function doneTypeHandle(e){isNull(e.accountId)?e.openStep=STEP_ACCOUNT:e.typeId!==TYPE_ID_TRANSFER&&isNull(e.categoryId)?e.openStep=STEP_CATEGORY:e.typeId===TYPE_ID_TRANSFER&&isEmpty(e.accountTransferId)?e.openStep=STEP_ENROLLMENT_ACCOUNT:e.typeId===TYPE_ID_TRANSFER&&isEmpty(e.enrollmentAmount)?e.openStep=STEP_ENROLLMENT_AMOUNT:e.openStep=STEP_CLOSED}function doneAccountHandle(e){e.typeId!==TYPE_ID_TRANSFER&&isNull(e.categoryId)?e.openStep=STEP_CATEGORY:e.typeId===TYPE_ID_TRANSFER&&isNull(e.accountTransferId)?e.openStep=STEP_ENROLLMENT_ACCOUNT:e.typeId===TYPE_ID_TRANSFER&&isEmpty(e.enrollmentAmount)?e.openStep=STEP_ENROLLMENT_AMOUNT:e.openStep=STEP_CLOSED}function doneEnrollmentAccountHandle(e){e.typeId===TYPE_ID_TRANSFER&&isEmpty(e.enrollmentAmount)?e.openStep=STEP_ENROLLMENT_AMOUNT:isEmpty(e.tags)?e.openStep=STEP_TAG:e.openStep=STEP_CLOSED}function doneCategoryHandle(e){isEmpty(e.tags)?e.openStep=STEP_TAG:e.openStep=STEP_CLOSED}const check=e=>{const t=!!e.validate,n=e.amount!==0,a=isNotNull(e.accountId),o=e.typeId===TYPE_ID_TRANSFER?isNotNull(e.accountTransferId):isNotNull(e.categoryId);return t&&n&&a&&o},amount=e=>!e.validate||e.amount!==0,account=e=>!e.validate||isNotNull(e.accountId),accountTransfer=e=>!e.validate||isNotNull(e.accountTransferId),category=e=>!e.validate||isNotNull(e.categoryId),valid={check,amount,account,accountTransfer,category},dateFormat=useDateFormat(),useCreateStore=defineStore("transactions/create",{state:()=>({openStep:STEP_ACCOUNT,amount:0,enrollmentAmount:0,currencyId:1,enrollmentCurrencyId:0,typeId:1,accountId:null,accountTransferId:null,categoryId:null,tagIds:[],date:new Date,validate:!1}),getters:{getCurrency:e=>Currency.find(e.currencyId)??null,getEnrollmentCurrency:e=>Currency.find(e.enrollmentCurrencyId)??null,getType:e=>TRANSACTION_TYPES.find(t=>t.id===e.typeId)??null,getAccount:e=>Account.find(e.accountId)??null,getAccountTransfer:e=>Account.find(e.accountTransferId)??null,getCategory:e=>TransactionCategory.find(e.categoryId)??null,getDate:e=>dateFormat.text(e.date),isValid:e=>valid.check(e),isAmountValid:e=>valid.amount(e),isAccountValid:e=>valid.account(e),isAccountTransferValid:e=>valid.accountTransfer(e),isCategoryValid:e=>valid.category(e)},actions:{nextStep(){nextStep(this)},reset(){this.amount=0,this.currencyId=1,this.typeId=1,this.accountId=null,this.accountTransferId=null,this.categoryId=null,this.tagIds=[],this.date=new Date}}}),_hoisted_1$7={class:"d-flex justify-end align-center pa-2"},_hoisted_2$7={class:"text-h3"},_sfc_main$c={__name:"TheCreateAmount",props:{amount:{type:[String,Number],default:"0"}},emits:["onClickOnAmount"],setup(e,{emit:t}){const n=t,a=useCreateStore(),o=useCurrenciesStore();onMounted(r);async function r(){await o.loadCurrencies()}return(i,c)=>{const l=resolveComponent("v-icon"),f=resolveComponent("v-btn"),m=resolveComponent("v-menu");return openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",{class:"text-right mr-4 d-flex align-center",onClick:c[0]||(c[0]=u=>n("onClickOnAmount"))},[createBaseVNode("span",_hoisted_2$7,toDisplayString(e.amount),1),unref(a).isAmountValid?createCommentVNode("",!0):(openBlock(),createBlock(l,{key:0,color:"error",icon:"mdi-alert-circle"}))]),createVNode(m,null,{activator:withCtx(({props:u})=>[createVNode(f,mergeProps({variant:"outlined",class:"s-btn"},u,{"append-icon":"mdi-chevron-down",loading:unref(o).loading}),{default:withCtx(()=>[createVNode(l,{icon:unref(a).getCurrency.icon},null,8,["icon"])]),_:2},1040,["loading"])]),default:withCtx(()=>[createVNode(_sfc_main$e,{currencies:unref(o).currencies,onSelected:c[1]||(c[1]=u=>unref(a).currencyId=u.id)},null,8,["currencies"])]),_:1})])}}},TheCreateAmount=_export_sfc(_sfc_main$c,[["__scopeId","data-v-f878cf38"]]),_hoisted_1$6={key:"0",class:"text-grey"},_hoisted_2$6={key:"1"},_sfc_main$b={__name:"TheTypeStep",setup(e){const t=useCreateStore(),n=computed({get:()=>t.typeId,set:o=>t.typeId=o});async function a(){t.categoryId=null,t.accountTransferId=null,await nextTick(),t.nextStep()}return(o,r)=>{const i=resolveComponent("v-col"),c=resolveComponent("v-fade-transition"),l=resolveComponent("v-row"),f=resolveComponent("v-expansion-panel-title"),m=resolveComponent("v-chip"),u=resolveComponent("v-chip-group"),v=resolveComponent("v-expansion-panel-text"),h=resolveComponent("v-expansion-panel");return openBlock(),createBlock(h,{value:unref(STEP_TYPE)},{default:withCtx(()=>[createVNode(f,{"hide-actions":""},{default:withCtx(({expanded:d})=>[createVNode(l,{"no-gutters":""},{default:withCtx(()=>[createVNode(i,{class:"d-flex justify-start",cols:"4"},{default:withCtx(()=>[createTextVNode("Тип:")]),_:1}),createVNode(i,{class:"text--secondary text-right",cols:"8"},{default:withCtx(()=>[createVNode(c,{"leave-absolute":""},{default:withCtx(()=>[d?(openBlock(),createElementBlock("span",_hoisted_1$6,"Вкажіть тип транзакції")):(openBlock(),createElementBlock("span",_hoisted_2$6,toDisplayString(unref(t).getType.name),1))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1}),createVNode(v,null,{default:withCtx(()=>[createVNode(u,{mandatory:"",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=d=>n.value=d)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(TRANSACTION_TYPES),d=>(openBlock(),createBlock(m,{key:d.id,label:"",variant:"text",text:d.name,value:d.id,onClick:a},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["value"])}}},_withScopeId=e=>(pushScopeId("data-v-08dee0f3"),e=e(),popScopeId(),e),_hoisted_1$5={key:0},_hoisted_2$5={key:1},_hoisted_3$4={key:"0",class:"text-grey"},_hoisted_4$2={key:"1",class:"text-truncate"},_hoisted_5$1={class:"ml-1"},_hoisted_6$1={key:1},_hoisted_7$1={key:2},_hoisted_8$1={class:"s-parent-wrapper"},_hoisted_9=_withScopeId(()=>createBaseVNode("div",{class:"text-grey text-subtitle-2"},"Батьківська категорія",-1)),_hoisted_10=_withScopeId(()=>createBaseVNode("div",{class:"text-grey text-subtitle-2"},"Підкатегорії",-1)),_sfc_main$a={__name:"TheCategoryStep",setup(e){const t=useCreateStore(),n=ref(!1),a=ref(!1),o=ref(),r=ref(),i=ref(new TransactionCategory),c=computed(()=>TransactionCategory.findLoaded());watchEffect(l);async function l(){v(),a.value=!0;try{await TransactionCategory.sync({include:"children","filter[type_id]":t.typeId})}finally{a.value=!1}}function f(s){if(s.isChildren()){n.value=!0,i.value=s;return}h(s.id),d()}function m(s){h(s.id),d()}function u(){n.value=!1}function v(){h(),o.value=!1,r.value=!1,i.value=new TransactionCategory,n.value=!1}function h(s=null){t.categoryId=s}function d(){t.nextStep()}return(s,_)=>{const y=resolveComponent("v-fade-transition"),w=resolveComponent("v-col"),C=resolveComponent("v-row"),x=resolveComponent("v-icon"),b=resolveComponent("v-expansion-panel-title"),g=resolveComponent("v-progress-linear"),N=resolveComponent("v-badge"),T=resolveComponent("v-chip"),k=resolveComponent("v-chip-group"),V=resolveComponent("v-btn"),S=resolveComponent("v-expansion-panel-text"),P=resolveComponent("v-expansion-panel");return openBlock(),createBlock(P,{value:unref(STEP_CATEGORY)},{default:withCtx(()=>[createVNode(b,null,{default:withCtx(({expanded:p})=>[createVNode(C,{"no-gutters":""},{default:withCtx(()=>[createVNode(w,{cols:"4"},{default:withCtx(()=>[createVNode(y,{"leave-absolute":""},{default:withCtx(()=>[unref(t).typeId===1?(openBlock(),createElementBlock("span",_hoisted_1$5,"На категорію:")):(openBlock(),createElementBlock("span",_hoisted_2$5,"З категорії:"))]),_:1})]),_:1}),createVNode(w,{class:"text--secondary text-right",cols:"8"},{default:withCtx(()=>[createVNode(y,{"leave-absolute":""},{default:withCtx(()=>[p?(openBlock(),createElementBlock("div",_hoisted_3$4,"Вкажіть категорію")):(openBlock(),createElementBlock("div",_hoisted_4$2,toDisplayString(unref(t).getCategory.name),1))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),actions:withCtx(()=>[createBaseVNode("div",_hoisted_5$1,[unref(t).isCategoryValid?createCommentVNode("",!0):(openBlock(),createBlock(x,{key:0,color:"error",icon:"mdi-alert-circle"}))])]),_:1}),createVNode(S,{class:"s-panel-text"},{default:withCtx(()=>[createVNode(y,{mode:"out-in"},{default:withCtx(()=>[a.value?(openBlock(),createBlock(g,{key:0,indeterminate:""})):!n.value&&!a.value?(openBlock(),createElementBlock("div",_hoisted_6$1,[createVNode(k,{mandatory:"",column:"",modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=p=>o.value=p)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,p=>(openBlock(),createBlock(T,{key:p.id,label:"",variant:"text",text:p.name,value:p.id,onClick:E=>f(p)},createSlots({_:2},[p.isChildren()?{name:"append",fn:withCtx(()=>[createVNode(N,{content:p.childrenCount(),inline:"",color:"transparent"},null,8,["content"])]),key:"0"}:void 0]),1032,["text","value","onClick"]))),128))]),_:1},8,["modelValue"])])):(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",null,[_hoisted_9,createVNode(k,{mandatory:"",column:"",modelValue:r.value,"onUpdate:modelValue":_[2]||(_[2]=p=>r.value=p)},{default:withCtx(()=>[createVNode(T,{label:"",variant:"text",text:i.value.name,value:i.value.id,onClick:_[1]||(_[1]=p=>m(i.value))},null,8,["text","value"])]),_:1},8,["modelValue"])]),createVNode(V,{icon:"mdi-arrow-up-left",variant:"text",onClick:withModifiers(u,["stop"])})]),_hoisted_10,createVNode(k,{mandatory:"",column:"",modelValue:r.value,"onUpdate:modelValue":_[3]||(_[3]=p=>r.value=p)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value.children,p=>(openBlock(),createBlock(T,{key:p.id,label:"",variant:"text",text:p.name,value:p.id,onClick:E=>m(p)},null,8,["text","value","onClick"]))),128))]),_:1},8,["modelValue"])]))]),_:1})]),_:1})]),_:1},8,["value"])}}},TheCategoryStep=_export_sfc(_sfc_main$a,[["__scopeId","data-v-08dee0f3"]]),_hoisted_1$4={key:0,class:"text-grey"},_hoisted_2$4={key:1,class:"text-truncate"},_hoisted_3$3={key:2},_sfc_main$9={__name:"TheTagStep",emits:["done"],setup(e,{emit:t}){const n=ref([]),a=computed(()=>n.value.join(", ")),o=["Доходи","Витрати","Бюджет","Заощадження","Кредити","Депозити","Інвестиції","Податки","Зарплата","Пенсія","Страхування","Платежі","КомунальніПослуги","Продукти","Одяг","Транспорт","Розваги","Медицина","Освіта","Подарунки"];return(r,i)=>{const c=resolveComponent("v-col"),l=resolveComponent("v-fade-transition"),f=resolveComponent("v-row"),m=resolveComponent("v-expansion-panel-title"),u=resolveComponent("v-chip"),v=resolveComponent("v-chip-group"),h=resolveComponent("v-expansion-panel-text"),d=resolveComponent("v-expansion-panel");return openBlock(),createBlock(d,{value:unref(STEP_TAG)},{default:withCtx(()=>[createVNode(m,{"hide-actions":""},{default:withCtx(()=>[createVNode(f,{"no-gutters":""},{default:withCtx(()=>[createVNode(c,{class:"d-flex justify-start",cols:"4"},{default:withCtx(()=>[createTextVNode("Теги:")]),_:1}),createVNode(c,{class:"text--secondary text-right",cols:"8"},{default:withCtx(()=>[createVNode(l,{"leave-absolute":""},{default:withCtx(()=>[n.value.length===0?(openBlock(),createElementBlock("div",_hoisted_1$4,"Вкажіть теги")):n.value.length<=3?(openBlock(),createElementBlock("div",_hoisted_2$4,toDisplayString(a.value),1)):(openBlock(),createElementBlock("div",_hoisted_3$3,"вибрано "+toDisplayString(n.value.length)+" тегів",1))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(h,{class:"s-panel-text"},{default:withCtx(()=>[createVNode(v,{multiple:"",column:"",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=s=>n.value=s)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(o,(s,_)=>createVNode(u,{key:_,label:"",variant:"text",text:s,value:s},null,8,["text","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["value"])}}},TheTagStep=_export_sfc(_sfc_main$9,[["__scopeId","data-v-8d54d543"]]),_sfc_main$8={__name:"TheDateStep",emits:["done"],setup(e,{emit:t}){const n=useCreateStore(),a=ref(),o=ref(!1),r=ref(n.date),i=ref();watchEffect(()=>{a.value=n.getDate,n.getDate==="today"?i.value="Сьогодні":n.getDate==="yesterday"?i.value="Вчора":n.getDate==="tomorrow"?i.value="Завтра":(a.value="custom",i.value=n.getDate)});function c(){n.date=subDays(new Date,1),u()}function l(){n.date=new Date,u()}function f(){o.value=!0}function m(){n.date=r.value,o.value=!1,u()}function u(){n.nextStep()}return(v,h)=>{const d=resolveComponent("v-col"),s=resolveComponent("v-fade-transition"),_=resolveComponent("v-row"),y=resolveComponent("v-expansion-panel-title"),w=resolveComponent("v-date-picker"),C=resolveComponent("v-divider"),x=resolveComponent("v-spacer"),b=resolveComponent("v-btn"),g=resolveComponent("v-card-actions"),N=resolveComponent("v-card"),T=resolveComponent("v-dialog"),k=resolveComponent("v-chip"),V=resolveComponent("v-chip-group"),S=resolveComponent("v-expansion-panel-text"),P=resolveComponent("v-expansion-panel");return openBlock(),createBlock(P,{value:unref(STEP_DATE)},{default:withCtx(()=>[createVNode(y,{"hide-actions":""},{default:withCtx(({expanded:p})=>[createVNode(_,{"no-gutters":""},{default:withCtx(()=>[createVNode(d,{class:"d-flex justify-start",cols:"4"},{default:withCtx(()=>[createTextVNode("Дата:")]),_:1}),createVNode(d,{class:"text--secondary text-right",cols:"8"},{default:withCtx(()=>[createVNode(s,{"leave-absolute":""},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(i.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(S,null,{default:withCtx(()=>[createVNode(T,{modelValue:o.value,"onUpdate:modelValue":h[2]||(h[2]=p=>o.value=p),"max-width":"600"},{default:withCtx(()=>[createVNode(N,null,{default:withCtx(()=>[createVNode(w,{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=p=>r.value=p),width:"100%",color:"primary"},null,8,["modelValue"]),createVNode(C),createVNode(g,null,{default:withCtx(()=>[createVNode(x),createVNode(b,{text:"Відміна",variant:"plain",onClick:h[1]||(h[1]=p=>o.value=!1)}),createVNode(b,{color:"primary",text:"Вибрати",variant:"tonal",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(V,{mandatory:"",modelValue:a.value,"onUpdate:modelValue":h[3]||(h[3]=p=>a.value=p)},{default:withCtx(()=>[createVNode(k,{label:"",variant:"text",text:"Вчора",value:"yesterday",onClick:c}),createVNode(k,{label:"",variant:"text",text:"Сьогодні",value:"today",onClick:l}),createVNode(k,{label:"",variant:"text",text:"Вибрати",value:"custom",onClick:f})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["value"])}}},_hoisted_1$3={key:0},_hoisted_2$3={key:1},_hoisted_3$2={key:"0",class:"text-grey"},_hoisted_4$1={key:"1"},_hoisted_5={class:"ml-1"},_hoisted_6={key:0},_hoisted_7={key:1},_hoisted_8={class:"s-back-button-wrapper"},_sfc_main$7={__name:"TheAccountStep",props:mergeModels({account:{type:Object,default:new Account,validator:e=>e instanceof Account},isValid:{type:Boolean,required:!0},isTransfer:{type:Boolean,default:!1},stepName:{type:String,default:STEP_ACCOUNT}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=useCreateStore(),a=useModel(e,"modelValue");computed(()=>n.typeId),onUnmounted(()=>{t.isTransfer&&(a.value=null)});const o=ref(!1),r=computed(()=>AccountCategory.findLoaded()),i=ref(null),c=ref(new AccountCategory);function l(m){c.value=m,o.value=!0}function f(){o.value=!1}return(m,u)=>{const v=resolveComponent("v-fade-transition"),h=resolveComponent("v-col"),d=resolveComponent("v-row"),s=resolveComponent("v-icon"),_=resolveComponent("v-expansion-panel-title"),y=resolveComponent("v-chip"),w=resolveComponent("v-chip-group"),C=resolveComponent("v-btn"),x=resolveComponent("v-expansion-panel-text"),b=resolveComponent("v-expansion-panel");return openBlock(),createBlock(b,{value:e.stepName},{default:withCtx(()=>[createVNode(_,{"disable-icon-rotate":""},{default:withCtx(({expanded:g})=>[createVNode(d,{"no-gutters":""},{default:withCtx(()=>[createVNode(h,{cols:"4"},{default:withCtx(()=>[createVNode(v,{"leave-absolute":""},{default:withCtx(()=>[unref(n).typeId===unref(TYPE_ID_INCOME)||e.isTransfer?(openBlock(),createElementBlock("span",_hoisted_1$3,"На рахунок:")):(openBlock(),createElementBlock("span",_hoisted_2$3,"З рахунку:"))]),_:1})]),_:1}),createVNode(h,{class:"text--secondary text-right",cols:"8"},{default:withCtx(()=>[createVNode(v,{"leave-absolute":""},{default:withCtx(()=>[g?(openBlock(),createElementBlock("div",_hoisted_3$2,"Вкажіть рахунок")):(openBlock(),createElementBlock("div",_hoisted_4$1,toDisplayString(e.account.name),1))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),actions:withCtx(()=>[createBaseVNode("div",_hoisted_5,[e.isValid?createCommentVNode("",!0):(openBlock(),createBlock(s,{key:0,color:"error",icon:"mdi-alert-circle"}))])]),_:1}),createVNode(x,{class:"s-panel-text"},{default:withCtx(()=>[createVNode(v,{mode:"out-in"},{default:withCtx(()=>[o.value?(openBlock(),createElementBlock("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createVNode(C,{size:"small",text:"Назад",onClick:withModifiers(f,["stop"])})]),createVNode(w,{mandatory:"",column:"",modelValue:a.value,"onUpdate:modelValue":u[2]||(u[2]=g=>a.value=g)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value.accounts,g=>(openBlock(),createBlock(y,{key:g.id,label:"",variant:"text",text:g.name,value:g.id,onClick:u[1]||(u[1]=N=>unref(n).nextStep())},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])])):(openBlock(),createElementBlock("div",_hoisted_6,[createVNode(w,{mandatory:"",column:"",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=g=>i.value=g)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,g=>(openBlock(),createBlock(y,{key:g.id,label:"",variant:"text",text:g.name,value:g.id,onClick:N=>l(g)},null,8,["text","value","onClick"]))),128))]),_:1},8,["modelValue"])]))]),_:1})]),_:1})]),_:1},8,["value"])}}},TheAccountStep=_export_sfc(_sfc_main$7,[["__scopeId","data-v-799e84e8"]]),_sfc_main$6={__name:"TheAccountsStepsChoice",setup(e){const t=useCreateStore();return onMounted(async()=>{await AccountCategory.sync({include:"accounts"})}),(n,a)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(TheAccountStep,{modelValue:unref(t).accountId,"onUpdate:modelValue":a[0]||(a[0]=o=>unref(t).accountId=o),account:unref(t).getAccount,"is-valid":unref(t).isAccountValid},null,8,["modelValue","account","is-valid"]),unref(t).typeId===unref(TYPE_ID_TRANSFER)?(openBlock(),createBlock(TheAccountStep,{key:0,modelValue:unref(t).accountTransferId,"onUpdate:modelValue":a[1]||(a[1]=o=>unref(t).accountTransferId=o),account:unref(t).getAccountTransfer,"is-valid":unref(t).isAccountTransferValid,"is-transfer":!0,"step-name":unref(STEP_ENROLLMENT_ACCOUNT)},null,8,["modelValue","account","is-valid","step-name"])):createCommentVNode("",!0)],64))}},_hoisted_1$2={class:"container"},_hoisted_2$2={key:0,class:"calc-text"},_hoisted_3$1={class:"keyboard"},_sfc_main$5={__name:"Calculator",props:{value:{type:Number,default:0},displayShow:{type:Boolean,default:!0}},emits:{onResult:isInteger},setup(__props,{expose:__expose,emit:__emit}){const props=__props,emit=__emit,calcValue=ref(props.value.toString()),isCalcMode=ref(!1),number=e=>{calcValue.value==="NaN"&&(calcValue.value=""),calcValue.value==="0"&&(calcValue.value=""),calcValue.value+=e.trim()},operation=value=>{const lastValue=getLastValue(calcValue.value);!isNaN(lastValue)&&value==="="?calcValue.value=eval(calcValue.value).toString():value==="AC"?calcValue.value="0":value==="DEL"?(calcValue.value=removeLastSymbol(calcValue.value),calcValue.value.length===0&&(calcValue.value="0")):(["+","-","*","/"].includes(lastValue)&&(calcValue.value=removeLastSymbol(calcValue.value),calcValue.value+=value),isNaN(lastValue)||(calcValue.value+=value))},pushEqual=()=>{isCalcMode.value=!1,operation("=")},done=()=>{emit("onResult",parseFloat(calcValue.value))},enabled=()=>{isCalcMode.value=!0},getLastValue=e=>e.substring(e.length,e.length-1),removeLastSymbol=e=>e.substring(0,e.length-1);return __expose({calcValue}),(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[__props.displayShow?(openBlock(),createElementBlock("div",_hoisted_2$2,[createBaseVNode("p",{onClick:t[0]||(t[0]=n=>isCalcMode.value=!isCalcMode.value)},toDisplayString(calcValue.value),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=n=>operation("AC")),class:"key-others"},"AC"),createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=n=>operation("DEL")),class:"key-others"},"DEL"),createBaseVNode("button",{type:"button",onClick:t[3]||(t[3]=n=>operation("%")),class:"key-others"},"%"),createBaseVNode("button",{type:"button",onClick:t[4]||(t[4]=n=>[operation("/"),enabled()]),class:"key-operate"},"/"),createBaseVNode("button",{type:"button",onClick:t[5]||(t[5]=n=>number("7")),class:""},"7"),createBaseVNode("button",{type:"button",onClick:t[6]||(t[6]=n=>number("8")),class:""},"8"),createBaseVNode("button",{type:"button",onClick:t[7]||(t[7]=n=>number("9")),class:""},"9"),createBaseVNode("button",{type:"button",onClick:t[8]||(t[8]=n=>[operation("*"),enabled()]),class:"key-operate"},"*"),createBaseVNode("button",{type:"button",onClick:t[9]||(t[9]=n=>number("4")),class:""},"4"),createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=n=>number("5")),class:""},"5"),createBaseVNode("button",{type:"button",onClick:t[11]||(t[11]=n=>number("6")),class:""},"6"),createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=n=>[operation("-"),enabled()]),class:"key-operate"},"-"),createBaseVNode("button",{type:"button",onClick:t[13]||(t[13]=n=>number("1")),class:""},"1"),createBaseVNode("button",{type:"button",onClick:t[14]||(t[14]=n=>number("2")),class:""},"2"),createBaseVNode("button",{type:"button",onClick:t[15]||(t[15]=n=>number("3")),class:""},"3"),createBaseVNode("button",{type:"button",onClick:t[16]||(t[16]=n=>[operation("+"),enabled()]),class:"key-operate"},"+"),createBaseVNode("button",{type:"button",onClick:t[17]||(t[17]=n=>number("0")),class:"key-zero"},"0"),createBaseVNode("button",{type:"button",onClick:t[18]||(t[18]=n=>number(".")),class:""},"."),isCalcMode.value?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:pushEqual,class:"key-operate"},"=")):createCommentVNode("",!0),isCalcMode.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:done,class:"key-done"},"ok"))])]))}},Calculator=_export_sfc(_sfc_main$5,[["__scopeId","data-v-602ce70e"]]),_sfc_main$4={__name:"BottomCalculator",props:mergeModels({startSum:{type:[String,Number],default:0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:mergeModels({done:isNumber},["update:modelValue"]),setup(e,{emit:t}){const n=t,a=useModel(e,"modelValue"),o=r=>{a.value=!1,n("done",r)};return(r,i)=>{const c=resolveComponent("v-bottom-sheet");return openBlock(),createBlock(c,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=l=>a.value=l),class:"s-bottom-sheet","content-class":"s-content"},{default:withCtx(()=>[createVNode(Calculator,{value:e.startSum,onOnResult:i[0]||(i[0]=l=>o(l))},null,8,["value"])]),_:1},8,["modelValue"])}}},_hoisted_1$1={key:"0",class:"text-grey"},_hoisted_2$1={key:"1"},_hoisted_3={class:"d-flex justify-end align-center pa-2"},_hoisted_4={class:"text-h5"},_sfc_main$3={__name:"TheEnrollmentAmount",setup(e){const t=useCreateStore(),n=useCurrenciesStore(),a=ref(!1);return computed({get:()=>t.enrollmentAmount,set:o=>t.enrollmentAmount=o}),onMounted(()=>{t.enrollmentAmount=t.amount,t.enrollmentCurrencyId=t.currencyId}),(o,r)=>{const i=resolveComponent("v-col"),c=resolveComponent("v-fade-transition"),l=resolveComponent("v-row"),f=resolveComponent("v-expansion-panel-title"),m=resolveComponent("v-icon"),u=resolveComponent("v-btn"),v=resolveComponent("v-menu"),h=resolveComponent("v-expansion-panel-text"),d=resolveComponent("v-expansion-panel");return openBlock(),createBlock(d,{value:unref(STEP_ENROLLMENT_AMOUNT)},{default:withCtx(()=>[createVNode(f,{"hide-actions":""},{default:withCtx(({expanded:s})=>[createVNode(l,{"no-gutters":""},{default:withCtx(()=>[createVNode(i,{class:"d-flex justify-start",cols:"4"},{default:withCtx(()=>[createTextVNode("Переказати:")]),_:1}),createVNode(i,{class:"text--secondary text-right",cols:"8"},{default:withCtx(()=>[createVNode(c,{"leave-absolute":""},{default:withCtx(()=>[s?(openBlock(),createElementBlock("span",_hoisted_1$1,"Вкажіть суму зарахування")):(openBlock(),createElementBlock("span",_hoisted_2$1,toDisplayString(unref(t).enrollmentAmount)+" "+toDisplayString(unref(t).getEnrollmentCurrency.symbol),1))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1}),createVNode(h,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",{class:"text-right d-flex align-center",onClick:r[0]||(r[0]=s=>a.value=!0)},[createBaseVNode("span",_hoisted_4,toDisplayString(unref(t).enrollmentAmount),1),unref(t).isAmountValid?createCommentVNode("",!0):(openBlock(),createBlock(m,{key:0,color:"error",icon:"mdi-alert-circle"}))]),createVNode(v,null,{activator:withCtx(({props:s})=>[createVNode(u,mergeProps({variant:"flat",class:"s-btn"},s,{"append-icon":"mdi-chevron-down"}),{default:withCtx(()=>[createVNode(m,{icon:unref(t).getEnrollmentCurrency.icon},null,8,["icon"])]),_:2},1040)]),default:withCtx(()=>[createVNode(_sfc_main$e,{currencies:unref(n).currencies,onSelected:r[1]||(r[1]=s=>unref(t).enrollmentCurrencyId=s.id)},null,8,["currencies"])]),_:1})]),createVNode(_sfc_main$4,{modelValue:a.value,"onUpdate:modelValue":r[2]||(r[2]=s=>a.value=s),"start-sum":unref(t).enrollmentAmount,onDone:r[3]||(r[3]=s=>unref(t).enrollmentAmount=s)},null,8,["modelValue","start-sum"])]),_:1})]),_:1},8,["value"])}}},_sfc_main$2={__name:"TheTransactionSteps",setup(e){const t=useCreateStore();return(n,a)=>{const o=resolveComponent("v-expansion-panels");return openBlock(),createElementBlock("div",null,[createVNode(o,{modelValue:unref(t).openStep,"onUpdate:modelValue":a[0]||(a[0]=r=>unref(t).openStep=r),variant:"accordion",elevation:"0"},{default:withCtx(()=>[createVNode(_sfc_main$b),createVNode(_sfc_main$6),unref(t).typeId!==unref(TYPE_ID_TRANSFER)?(openBlock(),createBlock(TheCategoryStep,{key:0})):createCommentVNode("",!0),unref(t).typeId===unref(TYPE_ID_TRANSFER)?(openBlock(),createBlock(_sfc_main$3,{key:1})):createCommentVNode("",!0),createVNode(TheTagStep),createVNode(_sfc_main$8)]),_:1},8,["modelValue"])])}}},_sfc_main$1={__name:"TheSaveButton",setup(e){const t=useCreateStore();function n(){t.validate=!0,console.log("valid",t.isValid),t.isValid&&a()}function a(){const o=new Transaction;o.currency=t.currencyId,o.type=t.typeId,o.account=t.accountId,o.category=t.categoryId,o.amount=t.amount,o.note=null,o.transaction_at=t.date,o.save()}return(o,r)=>{const i=resolveComponent("v-btn");return openBlock(),createElementBlock("div",null,[createVNode(i,{color:"primary",rounded:"t-0 b-xl",size:"x-large",text:"Continue",variant:"flat",block:"",onClick:n})])}}},_hoisted_1={class:"fill-height d-flex flex-column"},_hoisted_2=createBaseVNode("div",{class:"flex-grow-1"},null,-1),_sfc_main={__name:"Create",setup(e){const t=useCreateStore(),n=ref(!0);return onMounted(()=>{t.reset()}),(a,o)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$d),createBaseVNode("div",_hoisted_1,[_hoisted_2,createVNode(TheCreateAmount,{amount:unref(t).amount,onOnClickOnAmount:o[0]||(o[0]=r=>n.value=!0)},null,8,["amount"]),createVNode(_sfc_main$4,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=r=>n.value=r),"start-sum":unref(t).amount,onDone:o[2]||(o[2]=r=>unref(t).amount=r)},null,8,["modelValue","start-sum"]),createVNode(_sfc_main$2),createVNode(_sfc_main$1)])],64))}};export{_sfc_main as default};
